<!DOCTYPE html>
<html ng-app="myApp">

<body>
	<div class="subpagediv container-fluid">

		<div class="col-lg-12">
			<span ng-repeat="r in routes" style="padding-right:10px"><div style="display: inline-block"><input type="checkbox"
				ng-click="onRouteSelectionChanged()" ng-model="r.onmap">{{r.shortName}}</input></div>
			</span>
		</div>

		<div class="col-lg-12">
			<open-street-map model="mapData" container-div-id='mapdiv'
				ng-show='!!mapData && !!mapData.view' />

		</div>
		
		<div class="col-lg-12">
			<table class="maintable">
				<thead>
					<tr>
						<!--<th>Trip</th> -->
						<th>Route</th>
						<th class="hidden-xs hidden-sm">Origin</th>
						<th>Destination</th>
						
						<th>Nearest stop</th>
						<th title="Scheduled start">Start</th>
						<th>Delay</th>
						<!-- <th></th> -->
					</tr>
				</thead>

				<!-- ng-show="selectedRoutes.length === 0 || selectedRoutes.indexOf(trip.routeShortName) >= 0" -->
				<tbody>
					<tr ng-repeat="trip in selectedActiveTrips">
						<td><a href="#/tripdetails/{{trip.tripId}}">{{trip.routeShortName}}</a></td>
						<td class="hidden-xs hidden-sm">{{trip.originStopName}}</td>
						<td>{{trip.destinationStopName}}</td>
						<td>{{trip.nearestStopPointName}}</td>
						<td>{{trip.scheduledStart * 1000 | date: 'HH:mm' }}</td>
						<td>{{((trip.actualFinish-trip.scheduledFinish)/60).toFixed(0)}}
							min(s)</td>
						<!-- <td class="center"><a href="#/tripdetails/{{trip.tripId}}">details</a></td> -->
					</tr>
				</tbody>
			</table>

		</div>


	</div>
</body>
</html>
