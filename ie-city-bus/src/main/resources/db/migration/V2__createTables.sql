-- drop table ROUTE;
-- drop table TRIP;
-- drop table VEHICLE;

-- setup h2gis http://www.h2gis.org/docs/1.3.1/home/
--CREATE ALIAS IF NOT EXISTS H2GIS_EXTENSION FOR "org.h2gis.ext.H2GISExtension.load";
--CALL H2GIS_EXTENSION();
--
--
--create table VEHICLE (
--ID BIGINT(19) PRIMARY KEY auto_increment, --BIGINT(19)
--BEARING int, -- INTEGER(10)
--CATEGORY int,
--DUID VARCHAR(255) UNIQUE NOT NULL,
--GEO_POSITION_STATUS int,
--BIKE_RACK bit,
--IS_ACCESSIBLE bit,
--IS_DELETED bit,
--LAST_MODIFICATION_TIMESTAMP Date,
--LAT_LONG POINT,
--OPERATIONAL_NUMBER long,
--PATTERN_DUID VARCHAR(255),
--REFERENCE_TIME Date,
--TRIP_DUID VARCHAR(255),
--VEHICLE_NUMBER long
--);
--
--create table TRIP (
--ID long PRIMARY KEY auto_increment,
--DUID VARCHAR(255) UNIQUE NOT NULL,
--VEHICLE_ID long NOT NULL references VEHICLE(id),
--ROUTE_ID long NOT NULL references ROUTE(id),
--FIRST_STOP_PASSAGE_ID long references STOP_PASSAGE STOP_PASSAGE(ID) ON DELETE CASCADE,
--LAST_STOP_PASSAGE_ID long references STOP_PASSAGE STOP_PASSAGE(ID) ON DELETE CASCADE,
--FINISHED int
--);
--
--create table ROUTE (
--ID long PRIMARY KEY auto_increment,
--DUID VARCHAR(255) UNIQUE NOT NULL,
--LAST_MODIFICATION_TIMESTAMP Date,
--IS_DELETED bit,
--SHORT_NAME VARCHAR(255),
--NUMBER int,
--CATEGORY int	
--);
--
--create table STOP_POINT (
--ID long PRIMARY KEY auto_increment,
--DUID VARCHAR(255) UNIQUE NOT NULL,
--NAME VARCHAR(MAX),
--LAT_LONG POINT,
--NUMBER int
--);
--
--create table STOP_PASSAGE (
--ID long PRIMARY KEY auto_increment,
--DUID VARCHAR(255) UNIQUE NOT NULL,
--IS_DELETED bit,
--DIRECTION int,
--ARRIVAL_DATA Date,
--DEPARTURE_DATA Date,
--ROUTE_ID NOT NULL references ROUTE(ID),
--TRIP_ID index NOT NULL references TRIP(ID) ON DELETE CASCADE,
--STOP_POINT_ID index NOT NULL references STOP_POINT(ID) ON DELETE CASCADE
----,VEHICLE_ID NOT NULL references VEHICLE(ID) this is defined in trip
--);